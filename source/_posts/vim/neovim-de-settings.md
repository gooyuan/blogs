---
title: neovim 开发环境配置
date: 2020-07-27 20:43:31
tags: 
- vim
- nvim
categories: 
- vim
description: neovim 开发环境配置
---

## 背景

写此文档之前，使用vim已经有5年的时间了，知道vim脚本是什么回事，会简单修改，但不会开发。 基本上软件开发, 都使用vim插件，记录文档，也都使用vim。 所以， vim 基本的使用熟练度是有了，宏使用的频率也很高，结合shell命令的操作也让我感受到了vim的高效与灵活。除了使用门槛高，在习惯使用后，个人觉得总体效率还是有所提高的。

门槛高，也是真得高。用了这么长时间， 任一语言的开发环境没搞定, snippet 插件没搞定，学习新插件困难，使用的上的插件也是依着[高人](https://github.com/skywind3000/vim) 的配置, 达到简单的使用。所以, 现在还不能完全使用vim 进行日常开发。
只能在IDE中使用vim 插件开发。

灵活性, 那也是真得灵活。脚本, 插件可以满足任意的定制， 可玩性很高， 也确实能提高效率。 

我个人是推荐学习 vim 的, 那么为何我再使用了五年还是这样的一个水平呢？ 

主要有两点原因：
学习成本高，特别是对于编程初学者来说，想要搭成一个成熟的开发环境，熟练使用vim, 真不是一天两天就可以搞定的，而我的编程是半路出家，毕业才开始接触，工作还是以生存为主，更主要的任务是学习开发技能，计算机技术要学习的东西太多了，因此工具的首要目标是能用, 后面才是断断续续的注重工具效率的提升。
我往往折腾vim, 有的连续的时间顶多不过2,3个小时，折腾不出个所以然，连个插件都使用不起来，对于断断续续的状态， 目标规划阤不明确， 或因工作deadline压迫，或因自身的懒惰，心态经常失衡，再加上IDE配合vim插件，基本上也能体现到编程打字的快感 ，驱动力不足， 于是慢慢悠悠用到现在， 也还是个半吊子的vim水平。 

为何我又要学习vim呢？ 

VIM是一个上古编辑器，然而它仍然是一个优秀的编辑器，优秀的值得一学的编辑器。
优秀是有门槛的，IDE能满足大部分人的需求， 然而并不能带来极限的体验。当然，可能每个人的极限也不一样，所以，无所谓争哪个编辑器好或是不好。
如何优秀呢？ 
	随着不断的学习, 能不断突破个人的极限体验。当然个人体验嘛也是主观性很强的因素，我也无意于去安利谁去使用vim, 我是遵循适合自己的就是好的这一原则，什么都是工具嘛。

学习vim固然有情怀加成，最主的要还是因为使用vim，确实帮助我提升了效率，带来了爽的体验。
能折腾vim的人， 也必然不怕折腾其他编程技术。
编程的本质是相通的， 折腾vim的过程本来就是学习的过程，学习工具的思想，优化工作流，各种插件工具的学习、开发、定制， 必然会对语言的编译，命令的执行，计算机的原理，程序的本质有更深的了解。
搭环境是是开发的基本功，现在的互联网不鼓励个人英雄主义，主张团队合作。而现实所谓的团队合作大多数都是螺丝钉的活，我觉得这是资本为了规避风险所用的策略。
团队合作当然重要，个人力量有限，很难靠个人力量完成大型系统。但是这个团队必然得有一个掌握大局的人来统筹协作。
虽然是拧螺丝的工作，但是有大局观的团队，在协作拧螺丝的过程也必然更高效。我认为每个人都应该向着统筹大局的能力是扩展提升的。
不管是为了抗风险，还是独立完成一款产品的成就感，全面的个人能力是有必要的。
而vim 折腾就涉及到软件开发的全流程。

闲话少谈，更多关于软件开发的想法，记录在{% post_link thought/thinking-about-programming %} 里

### 基本配置

> nvim 是 fork vim 的项目，去掉了gui的代码与历史积累的代码，更加遵重开源的开发方式。 除了配置路径改变了， 绝大多数的配置是通用的, 因此资料可以互相参考。

网上的vim 配置教程大都只是配置一些插件，注释说明选项什么意思， 这样的教程就落了下乘，因为我按那些大神的vim配置用了这么多年，还是个半吊子水平， 当然，这跟我自己的学习态度也有关系。直接`:help` 看 vim文档，英文能力也有限，经常效率不高，就睡着了(提升英文能力很重要, 这是后话，另作他表)。 对于一个没有编程经验的小白来说，一个好的本土语言的教程，确实能帮助期少走很多变路。 

现在有了一些开发经验后，再学习vim, 就相对容易一些。 
一个系统(提供了插件扩展能力的应用都可以以称作一个系统)必然会提供一个上下文环境，上下文环境又是与生命周期概念， 所以，学习vim配置，最好还是从生命周期，上下文环境(运行时环境)，插件的加载层次这些信息来入手，更加能抓住主干核心， 对于学习新插件，自己开发插件， 也是必不可少的。 

意识到这个问题， 当然是先搜索是否已有人已经写过了相关问题， 找到如下blog, 解答了我的疑惑
[vim配置层次结构与插件加载方式(一)](https://blog.csdn.net/qq_27825451/article/details/100518128)
[vim8原生内置(naive)插件安装（二）](https://blog.csdn.net/qq_27825451/article/details/100557133)

通过`:scriptnames` 可以查看加载了哪些脚本， 通过脚本的路径可以查看到vim 会加载哪些路径下的脚本，
通过`:set runtimepath` 也可以查看运行时加载路径，以逗号分隔。

然而还是不清楚哪些是默认加载的， 哪些是通过脚本配置加载的。 
通过 `:help runtimepath` 可以查看详细内容

	* Plugin

		“全局插件", 会自动加载的vim 脚本文件

	* autoload

		(与plugin 不一样) 此文件夹下的脚本只有在调用的时候才会加载, # 相当于路径一样使用
		[示例](https://www.w3cschool.cn/vim/xenarozt.html)

	* ftdetect

		可以自定义识别文件类型, 具体查看 :help ftdetect

	* ftplugin

		编辑已知文件类型是执行的脚本

	* compiler

		定义如何运行各种编译工具或格式化工具，以及如何解析其输出。 可以在多个ftplugins间共享。且不会自动执行，必须通过 `:compiler`调用

	* pack

		Vim8 原生软件包目录， 采用了 "Pathogen" 格式的包管理。 

pack 原生包管理个人觉得没必要使用， vim-plugin 就很好用, 但是了解一下有必要， 用于学习其他大神的配置文件。 

了解了vim 启动加载生命周期， 是主要是阅读他人的配置，这里我首先参考的是[theniceboy/nvim](https://github.com/theniceboy/nvim)和[skywind3000/vim](https://github.com/skywind3000/vim)的配置，学习并定制自己的配置， 做到每一行配置都知其作用。 也定制符合自身习惯的配置。

主题, 快捷键, 键盘，

### c/c++ 环境配置

### 效率插件

### 体验插件

### 关于插件学习的思考

### 关于
