
## mokee 研究计划

1. 当前进度

mokee 系统, 当前已经可以正常编译, 但是目前mokee支持的机型大多都是手机上市后1年以上的, 这不满足诱发机供货需求, 所以, 系统级诱发机这条路还是要自己适配定制才行. 

根据这段时间的查找研究, 目前已大致了解了定制系统ROM工作流程

1. 初探

查看当前手机cpu是芯片的内核是否有开源的, 没有只能使用预编译的

2. 先跑起来再说

编写devices库, 这个可以参考已适配的同等cpu型号的固件, 没有的话, 参考同厂商上一版本的配置文件

编写 device 是一个很复杂的过程，很多编译参数需要去考究去查。

这一步基本上就是写 device…尝试编译…炸了，改，编译…炸了，改，编译…好的终于编译完毕了（可能耗时一个星期）。

重启进 fastboot，刷镜像…炸了，卡厂商 LOGO…改，编译，刷，炸，改，编译，刷…好了，终于能看到开机动画了。

咦，一直是动画…adb logcat 看看是哪个部件炸了…改，编译，刷，炸…咦缺了些私有库。补，编译，炸，改…………………………

3. 修，修，修…

欧耶，终于进桌面了。boom，「XXX 屡次停止运行」。好，看 logcat，改……

咦，没有基带？找找找…改改改…咦？蓝牙怎么挂了？Wi-Fi 也挂了？？？改…………

我日，怎么相机也挂了？改改改改改………

好的，基本上就又一个星期过去了。

这时候大致上可以叫龙猪跑个 EXPERIMENTAL 出来玩玩了。

4. 优化

厂商开源的内核可能不是最新的，有些有能力的适配者会自己更新一些东西。

内核 tag 老了？合！
Wi-Fi（qcacld）驱动太旧？合！
SDCardFS 也老了？合！
内核版本也老了！合！！！（此条仅限极少数非常牛逼的适配者）

kernel 编译, 查找预编译库

    涉及到相关驱动: 摄像头, 基带, 呼吸灯, wifi, 蓝牙, 陀螺仪, Audio, telephony, nfc, power, recovery

    部分可以直接用, 有些需要适配,写shim层代码

device 库编写: 
    参考现成的cpu机型, 参考厂商前一代型号的device
    先以nubia z17minis 为目标, 移植一版rom, cpu 为 qcom msm8976

HAL层研究:

2. 后面计划

如果已经有现成的适配工作可用, 时间可能比较靠谱, 否则研究的时间会增加.

3. 
