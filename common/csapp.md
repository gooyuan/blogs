
## 深入理解计算机操作系统

    Computer Systems - A Programmer's Perspective 
    是时候走一遍了, 有些细节先不深究, 如 float数据, 补码之类
    按顺序读, 太难的, 也先过... 如 处理器体系结构
    主要有个整体的概念, 然后捡感兴趣的章节先读
    优化程序性能, 虚拟内存, 异常控制流, 系统级I/O, 网络编程, 并发编程

## 1. 计算机系统漫游
####  位+上下文
1. 文本文件 和 二进制文件 
2. 上下文, 现在看来没啥疑问, 当初可是怎么都想不明白
3. 看不懂的书, 肯定是积累不够

####  程序
1. 翻译成各种形式的字节码
    > 预处理器 -> 编译器 -> 汇编器 -> 链接器
2. GNU环境 
    * EMACS编辑器, GCC编译器, GDB调试器, 汇编器, 链接器, 处理二进制文件的工具及其他一些部件
    * free
####  编译系统
1. 编译器是如何将代码转换成不同平台的机器语言
2. 优化程序性能
3. 理解链接时出现的错误
4. 避免安全漏洞

####  处理器解释指令 
1. shell 解释可执行程序
2. 系统的硬件组成
- 总线
    * 电子管道
- I/O设备
    * 每个I/O设备都通过一个控制器和适配器与I/O总线相连
    * 控制器和适配器的区别主要在于它们的封装方式
- 主存
    * DRAM (dynamic random access memory)
    * 即内存, 临时存储

- 处理器
    * 核心是一个大小为一个字的存储设备, 程序计数器(PC), 指向主存中的机器指令
    * 指令集架构, 微体系结构
    * 寄存器文件是啥, 存放几百字节, CPU 和 ALU各16个? 跟这还不一样, 专门设计的SRAM, 寄存器堆, 
####  高速缓存
1. 高速缓存 SRAM(static random access memory)
- 高速缓存的局部性原理

####  储存设备
1. 存储器层次结构
- 寄存器 > L1高速缓存 > L2 > L3 > 主存(DRAM, 内存) > 本地二级存储 > 远程二级存储

####  操作系统管理硬件 
1. 抽象概念
- 进程 
    * 对正在运行的程序的一种抽象
    * 上下文切换 
    * 线程
- 虚拟内存 
    * 为每个进程提供一个假象, 即独占地使用主存
    * 每个进程看到的内存都是一致的, 称为虚拟地址空间

- 文件
    * 字节序列, 仅此而已
    * 向应用程序提供了一个统一的视图, 来看待系统中可能含有的所有各式各样的I/O设备

2. 内核
- 内核管理管理进程上下文的切换
- 内核是常驻主存的部分
- 内核不是一个独立的进程, 是系统管理全部进程所用代码和数据结构的集合

####  网络通信
1. 网络也是一种I/O设备
2. 通过网络适配器完成机器间的数据复制 

####  重要主题
1. Amdahl 定律
- 要想显著加速整个系统, 必须提升全系统中相当大的部分的速度 
- 描述了改善任何过程的一般原则
- 整体与部分的关系

2.  并发和并行
- 并发 (concurrency) 是一个通用的概念, 指一个同时具有多个活动的系统
- 并行(parallelism) 指的是用并发来使一个系统运行得更快
- 线程级并发
    * 在一个进程中执行多个控制流
    * 多核处理器
        * 每个核有各自的L1和L2高速缓存器, 共享更高层次的高速缓存
        * 从两个方面提高系统性能
        > 1. 减少了在执行多个任务时模拟并发的需要, (这里的模拟并发, 是分配时间片, 上下文切换的消耗么?)
        2. 可以使应用程序运行得更快, 前提是使用多线程编写
    * 超线程
        * 同时多线程(simultaneous multi-threading)
        * 一个CPU执行多个控制流的技术
- 指令级并行
    * 在较低层次的抽象上, 现代处理器同时执行多条指令
    * 超标量(super-scalar)处理器: 比一个周期一条指令更快的执行效率
    * 单指令, 多数据并行
3. 计算机系统中抽象的重要性
- 提供不同层次的抽象表示, 来隐藏实际实现的复杂性
- |- 虚拟机
    |- 操作系统
    |- 进程
        |- 指令集架构
            |- 处理器
        |- 虚拟内存
            |- 主存
            |- 文件 I/O设备

####  小结

## 2. 信息的表示与处理
#### 信息存储
#### 整数表示
#### 整数运算
#### 浮点数
#### 小结

## 3. 程序的机器级表示
#### 
#### 
#### 
#### 
#### 
#### 

## 
#### 
#### 
#### 
#### 
#### 
#### 